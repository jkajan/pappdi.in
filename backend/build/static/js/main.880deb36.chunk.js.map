{"version":3,"sources":["reducers/jokeReducer.js","reducers/pappReducer.js","components/Joke.js","services/joke.js","components/JokeForm.js","components/Papp.js","services/papp.js","components/PappContainer.js","hooks/index.js","App.js","index.js"],"names":["initialState","jokeReducer","state","action","type","concat","data","pappReducer","newState","i","length","id","votes","Joke","joke","className","content","author","getAll","a","axios","get","res","create","newObject","post","JokeForm","store","inputContent","inputAuthor","handleSumbit","event","preventDefault","jokeService","target","value","console","log","dispatch","reset","onSubmit","name","rows","columns","onChange","Papp","papp","show","click","handleVote","onClick","src","p","alt","style","update","put","then","response","PappContainer","useState","voted","setVoted","display","nPapp","pappService","getState","map","key","useField","setValue","App","props","setJoke","useEffect","jokes","papps","rand","Math","floor","random","reducer","combineReducers","createStore","render","ReactDOM","document","getElementById","subscribe"],"mappings":"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","file":"static/js/main.880deb36.chunk.js","sourcesContent":["const initialState = []\n\nconst jokeReducer = (state = initialState, action) => {\n  //console.log(action)\n  switch(action.type) {\n    case 'JOKE_ADD':\n      return state.concat(action.data)\n    default:\n  }\n  return state\n}\n\nexport default jokeReducer\n","const initialState = []\n\nconst pappReducer = (state = initialState, action) => {\n  //console.log(action)\n  let newState = state\n  switch(action.type) {\n    case 'PAPP_ADD':\n      return state.concat(action.data)\n    case 'PAPP_VOTE':\n      for (let i = 0;i<newState.length;i++) {\n        if (newState[i].id === action.data) {\n          newState[i].votes += 1\n          return newState\n        }\n      }\n      return state\n    default:\n  }\n  return state\n}\n\nexport default pappReducer\n","import React from 'react'\n\n//the joke component\nconst Joke = ({joke}) => {\n  if (joke) {\n    return(\n      <div className=\"jokeContent\">{joke.content}<br></br>Submitted by: {joke.author}</div>\n    )\n  } else {\n    return(<div></div>)\n  }\n}\n\nexport default Joke\n","import axios from 'axios'\nconst baseUrl = '/api/jokes'\n\nconst getAll = async() => {\n  const res = await axios.get(baseUrl)\n  return res.data\n}\n\nconst create = async(newObject) => {\n  const res = await axios.post(baseUrl, newObject)\n  return res.data\n}\n\nexport default { getAll, create }\n","//implement the form to submit jokes here\nimport React from 'react'\nimport jokeService from '../services/joke'\n\nconst JokeForm = ({store, inputContent, inputAuthor}) => {\n\n  const handleSumbit = async(event) => {\n    event.preventDefault()\n    const joke = await jokeService.create({\n      content: event.target[0].value,\n      author: event.target[1].value\n    })\n    console.log(joke)\n    store.dispatch({\n      type: 'JOKE_ADD',\n      data: joke\n    })\n    inputContent.reset()\n    inputAuthor.reset()\n  }\n\n  return(\n    <div className=\"jokeForm\">\n      <p className=\"marginLeft\">Skicka in en favorit!</p>\n      <form onSubmit={handleSumbit}>\n        <textarea name=\"input\" rows=\"10\" columns=\"50\" onChange={inputContent.onChange} value={inputContent.value}>\n        </textarea>\n        <br></br>\n        <label className=\"marginLeft\">Vem i frick e du?!</label><br></br>\n        <input className=\"author\" value={inputAuthor.value} onChange={inputAuthor.onChange}></input>\n        <br></br>\n        <button className=\"marginLeft\" type=\"submit\">Submit</button>\n      </form>\n    </div>\n  )\n}\n\nexport default JokeForm\n","import React from 'react'\n\nconst Papp = ({papp, show, click, handleVote}) => {\n  return (\n    <div>\n    <div className={click.click} onClick={() => handleVote(papp)}>\n      <img src={papp.p} alt=\"Din far borde synas här!\"></img>\n    </div>\n    <div style={show}>votes: {papp.votes}</div>\n    </div>\n  )\n}\n\nexport default Papp\n","import axios from 'axios'\nconst baseUrl = '/api/papps'\n\nconst getAll = async() => {\n  const res = await axios.get(baseUrl)\n  return res.data\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${ baseUrl }/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, update }\n","import React, { useState } from 'react'\nimport Papp from './Papp'\nimport pappService from '../services/papp'\n\n//the container for all Papps\nconst PappContainer = ({store}) => {\n  const [voted, setVoted] = useState(false)\n  const click = { click: voted ? 'item noclick' : ' item click' }\n  const show = { display: voted ? '' : 'none' }\n  const handleVote = async(papp) => {\n    try {\n      const nPapp = {\n        p: papp.p,\n        votes: papp.votes + 1\n      }\n      await pappService.update(papp.id, nPapp)\n      store.dispatch({\n        type:'PAPP_VOTE',\n        data: papp.id\n      })\n      setVoted(true)\n    } catch(exception) {\n      console.log('vote failed.')\n    }\n  }\n\n  return (\n    <div>\n      <header className=\"header\">Rösta på din favoritpapp!</header>\n      <div className=\"wrapper\">\n        {store.getState().papp.map(p => <Papp\n          key={p.id} papp={p} show={show} click={click} handleVote={handleVote} />)}\n      </div>\n    </div>\n  )\n}\n\nexport default PappContainer\n","import { useState } from 'react'\n\nexport const useField = (type) => {\n  const [value, setValue] = useState('')\n\n  const onChange = (event) => {\n    setValue(event.target.value)\n  }\n\n  const reset = () => {\n    setValue('')\n  }\n  return {\n    type,\n    value,\n    onChange,\n    reset\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport Joke from './components/Joke'\nimport JokeForm from './components/JokeForm'\nimport PappContainer from './components/PappContainer'\nimport { useField } from './hooks'\nimport jokeService from './services/joke'\nimport pappService from './services/papp'\nimport './App.css'\n\nconst App = (props) => {\n  const [joke,setJoke] = useState('')\n  const inputContent = useField('text')\n  const inputAuthor = useField('text')\n  //TODO: fundera på varför min MONGODB_URI e whack\n  //useEffect that fetches jokes from the backend\n  useEffect(() => {\n    const get = async() => {\n      const jokes = await jokeService.getAll()\n      const papps = await pappService.getAll()\n      props.store.dispatch({\n        type: 'JOKE_ADD',\n        data: jokes\n      })\n      props.store.dispatch({\n        type: 'PAPP_ADD',\n        data: papps\n      })\n    }\n   get()\n },[props.store])\n  //the function to fetch a random joke\n  const handlePapp = () => {\n    const jokes = props.store.getState().joke\n    const rand = Math.floor(Math.random()*(jokes.length))\n    setJoke(jokes[rand])\n  }\n  //the function to generate a joke\n  const handleGen = () => {\n    console.log('NYI')\n  }\n  return (\n    <div className=\"container\">\n      <div className=\"header\">Hello Papps! Välkommen till pappdi.in!</div>\n      <div className=\"buttonContainer\">\n        <button onClick={handleGen}>Generera ett 'Papp' skämt!</button>\n        <button onClick={handlePapp}>Random favorit i repris</button>\n      </div>\n      <Joke joke={joke} />\n      <JokeForm store={props.store} inputContent={inputContent} inputAuthor={inputAuthor} />\n      <br></br>\n      <PappContainer store={props.store} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { createStore, combineReducers } from 'redux'\nimport jokeReducer from './reducers/jokeReducer'\nimport pappReducer from './reducers/pappReducer'\nimport App from './App'\n\nconst reducer = combineReducers({\n  joke: jokeReducer,\n  papp: pappReducer\n})\n\nconst store = createStore(reducer)\n\nconst render = () => {\n  ReactDOM.render(\n    <App store={store} />,\n    document.getElementById('root')\n  )\n}\n\nrender()\nstore.subscribe(render)\n"],"sourceRoot":""}