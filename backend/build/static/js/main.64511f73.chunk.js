(this["webpackJsonppappdi.in"]=this["webpackJsonppappdi.in"]||[]).push([[0],{19:function(e,t,a){e.exports=a(45)},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),u=a(6),s=[],i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOKE_ADD":return e.concat(t.data)}return e},l=[],p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,a=e;switch(t.type){case"PAPP_ADD":return e.concat(t.data);case"PAPP_VOTE":for(var n=0;n<a.length;n++)if(a[n].id===t.data)return a[n].votes+=1,a;return e}return e},m=a(1),f=a.n(m),v=a(3),h=a(4),d=function(e){var t=e.joke;return t?r.a.createElement("div",{className:"jokeContent"},t.content,r.a.createElement("br",null),"Submitted by: ",t.author):r.a.createElement("div",null)},b=a(5),E=a.n(b),g={getAll:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/jokes");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(v.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.post("/api/jokes",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},k=function(e){var t=e.store,a=e.inputContent,n=e.inputAuthor,c=function(){var e=Object(v.a)(f.a.mark((function e(r){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r.preventDefault(),e.next=4,g.create({content:r.target[0].value,author:r.target[1].value});case 4:c=e.sent,console.log(c),t.dispatch({type:"JOKE_ADD",data:c}),a.reset(),n.reset(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"jokeForm"},r.a.createElement("p",{className:"marginLeft"},"Skicka in en favorit!"),r.a.createElement("form",{onSubmit:c},r.a.createElement("textarea",{name:"input",rows:"10",columns:"50",onChange:a.onChange,value:a.value}),r.a.createElement("br",null),r.a.createElement("label",{className:"marginLeft"},"Vem i frick e du?!"),r.a.createElement("br",null),r.a.createElement("input",{className:"author",value:n.value,onChange:n.onChange}),r.a.createElement("br",null),r.a.createElement("button",{className:"marginLeft",type:"submit"},"Submit")))},j=function(e){var t=e.papp,a=e.show,n=e.click,c=e.handleVote;return r.a.createElement("div",null,r.a.createElement("div",{className:n.click,onClick:function(){return c(t)}},r.a.createElement("img",{src:t.p,alt:"Din far borde synas h\xe4r!"})),r.a.createElement("div",{style:a},"votes: ",t.votes))},w={getAll:function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api/papps");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vote:function(e){return E.a.put("".concat("/api/papps","/").concat(e),"VOTE").then((function(e){return e.data}))}},O=function(e){var t=e.store,a=Object(n.useState)(!1),c=Object(h.a)(a,2),o=c[0],u=c[1],s={click:o?"item noclick":" item click"},i={display:o?"":"none"},l=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.vote(a.id);case 3:t.dispatch({type:"PAPP_VOTE",data:a.id}),u(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("vote failed.");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("header",{className:"header"},"R\xf6sta p\xe5 din favoritpapp!"),r.a.createElement("div",{className:"wrapper"},t.getState().papp.map((function(e){return r.a.createElement(j,{key:e.id,papp:e,show:i,click:s,handleVote:l})}))))},y=function(e){var t=Object(n.useState)(""),a=Object(h.a)(t,2),r=a[0],c=a[1];return{type:e,value:r,onChange:function(e){c(e.target.value)},reset:function(){c("")}}},x=(a(42),function(e){var t=Object(n.useState)([]),a=Object(h.a)(t,2),c=a[0],o=a[1],u=y("text"),s=y("text");Object(n.useEffect)((function(){(function(){var t=Object(v.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getAll();case 2:return a=t.sent,t.next=5,w.getAll();case 5:n=t.sent,e.store.dispatch({type:"JOKE_ADD",data:a}),e.store.dispatch({type:"PAPP_ADD",data:n});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.store]);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"header"},"Hello Papps! V\xe4lkommen till pappdi.in!"),r.a.createElement("div",{className:"buttonContainer"},r.a.createElement("button",{onClick:function(){for(var t={},a=e.store.getState().joke,n="",r=0;r<a.length;r++)n+=a[r].content;for(var c=n.split(" "),u=0;u<c.length;u++){var s=c[u].toLowerCase();t[s]||(t[s]=[]),c[u+1]&&t[s].push(c[u+1].toLowerCase())}for(var i=Object.keys(t),l=i[Math.floor(Math.random()*i.length)],p="",m=0;m<100;m++)p+=l+" ",(l=t[l][Math.floor(Math.random()*t[l].length)])&&t.hasOwnProperty(l)||(l=i[Math.floor(Math.random()*i.length)]);o([{content:p,author:"Markov"},i.length])}},"Generera ett 'Papp' sk\xe4mt!"),r.a.createElement("button",{onClick:function(){for(var t=e.store.getState().joke,a=Math.floor(Math.random()*t.length);c[1]&&c[1]===a;)a=Math.floor(Math.random()*t.length);o([t[a],a])}},"Random favorit i repris")),r.a.createElement(d,{joke:c[0]}),r.a.createElement(k,{store:e.store,inputContent:u,inputAuthor:s}),r.a.createElement("br",null),r.a.createElement(O,{store:e.store}))}),A=Object(u.a)({joke:i,papp:p}),P=Object(u.b)(A),C=function(){o.a.render(r.a.createElement(x,{store:P}),document.getElementById("root"))};C(),P.subscribe(C)}},[[19,1,2]]]);
//# sourceMappingURL=main.64511f73.chunk.js.map